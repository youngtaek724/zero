<!DOCTYPE html>
<html lang="kor" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/css/cart.css" type="text/css"/>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.3/dist/web/static/pretendard-dynamic-subset.css"/>
    <link rel="stylesheet" href="/css/main_home.css" type="text/css"/>
    <link rel="stylesheet" href="/css/slick.css" type="text/css"/>
    <link rel="stylesheet" href="/css/product.css" >
    <link rel="stylesheet" href="/css/cart.css" >
</head>
<body>
    <div id="__next" data-reactroot="">
        <div class="css-1c9gcj2 e17o7yjp8">
            <div class="css-wtivc6 e17o7yjp7">
                <h2 class="css-3ljxig e17o7yjp6">배송지
                    <span class="css-1nvqzrc e17o7yjp5">배송지에 따라 상품정보 및 배송유형이 달라질 수 있습니다.</span>
                </h2>
                <div class="css-r1km81 e17o7yjp4">
                    <span>선택</span>
                    <span>배송 정보</span>
                    <span>수정</span>
                </div>
            </div>
            <div class="css-0 e17o7yjp3">
                <th:block th:each="address:${addresses}">
                <div class="css-c08slb egfaucj7" th:object="${address}">
                    <div class="css-1g6fovq egfaucj0">
                        <label class="css-0 e1dcessg3" for="kurly-address-18709170">
                            <input data-testid="address-item" id="kurly-address-18709170" type="checkbox" class="css-agvwxo e1dcessg2" value="서울 서초구 신반포로 270 (반포자이아파트)" checked="">
                            <img  th:if="*{baseAddress=='N'}" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgc3Ryb2tlPSIjREREIj4KICAgICAgICAgICAgPGc+CiAgICAgICAgICAgICAgICA8Zz4KICAgICAgICAgICAgICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNjY5LjAwMDAwMCwgLTEwOTAuMDAwMDAwKSB0cmFuc2xhdGUoMTAwLjAwMDAwMCwgOTM2LjAwMDAwMCkgdHJhbnNsYXRlKDU1My4wMDAwMDAsIDE0Mi4wMDAwMDApIHRyYW5zbGF0ZSgxNi4wMDAwMDAsIDEyLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMS41Ii8+CiAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIxLjUiIGQ9Ik03IDEyLjY2N0wxMC4zODUgMTYgMTggOC41Ii8+CiAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4K" alt="" class="css-1wfsi82 e31wziv0">
                            <img th:if="*{baseAddress=='Y'}"src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGc+CiAgICAgICAgICAgIDxnPgogICAgICAgICAgICAgICAgPGc+CiAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE3Ni4wMDAwMDAsIC0xMDkwLjAwMDAwMCkgdHJhbnNsYXRlKDEwMC4wMDAwMDAsIDkzNi4wMDAwMDApIHRyYW5zbGF0ZSg2MC4wMDAwMDAsIDE0Mi4wMDAwMDApIHRyYW5zbGF0ZSgxNi4wMDAwMDAsIDEyLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMiIgZmlsbD0iIzVGMDA4MCIvPgogICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBzdHJva2U9IiNGRkYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIxLjUiIGQ9Ik03IDEyLjY2N0wxMC4zODUgMTYgMTggOC41Ii8+CiAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4K" alt="" class="css-1wfsi82 e31wziv0">
                            <span class="css-0 e1dcessg1"></span>
                        </label>
                    </div>
                    <form style="display: contents" th:action="@{/address/update}" method="post">
                    <div data-testid="address-area" class="css-82a6rk egfaucj3">
                        <span class="css-1pfhx0h egfaucj5" th:if="*{baseAddress=='Y'}">기본 배송지</span>
                        <p class="css-12stxlh egfaucj4" th:text="*{memberAddress2}"></p>
                        <p class="css-12stxlh egfaucj6" th:text="*{memberAddress3}"></p>
                        <div class="css-1gcxwpt">
                            <span type="direct" class="css-z4mca9 e1jlkvf51" th:text="*{memberAddress1}"></span>
                        </div>
                    </div>
                    <div class="css-1g6fovq egfaucj0">
                        <input style="display: none" id = "address2" type="text" th:field = "${address.memberAddress2}" >
                        <input style="display:none;" id = "address3" type="text" th:field = "${address.memberAddress3}" >
                        <button type="submit" aria-label="수정하기" data-testid="update-address-button" class="css-ik44wu egfaucj6"></button>
                    </div>
                    </form>
                </div>
                </th:block>
            </div>
            <div class="css-m0h4tf e17o7yjp0">
                <button class="css-1bqw8am e4nu7ef3" type="button" height="60">
                    <span class="css-ymwvow e4nu7ef1">
                        <img  src="https://res.kurly.com/pc/ico/2006/ico_add_16x16.svg" alt="" class="css-1m3kac1 e4nu7ef0">새 배송지 추가
                    </span>
                </button>
            </div>
        </div>
    </div>

    <script  src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
    <script src="/js/jquery.min.js"></script>
    <script src="/js/cart.js"></script>
    <script th:inline="javascript">
    const $findAdd = $(".css-1bqw8am");
    let $userNumber = [[${userNumber}]];

    $findAdd.on("click", function(){location.href = "/address/result";});

    $(".egfaucj4").on("click",function () {
        var address = $(this).text();
        $(".useraddress", opener.document).text(address);
        window.close();
    })

    $(".egfaucj6").on("click", function (e) {
        var address2 = $(this).parent().prev().children('.egfaucj4').text();
        var address3 = $(this).parent().prev().children('.egfaucj6').text();

        $(this).prev().val(address2);
        $(this).prev().prev().val(address3);
    });
    </script>
</body>
</html>